# 프로젝트 계기
유튜브는 내가 가장 많이 이용하는 웹서비스로, 이 서비스를 내가 직접 만들어보면 재밌을 것 같아서 시작하게 되었다.

하지만 막상 프로젝트를 시작하려 하니 감이 전혀오지 않아서 일단 동료부터 구했다.

협업은 하지 않고 각자의 코드만 공유하는 방식으로 개인 프로젝트를 시작했고, 결과적으로 같은 서비스를 서로 다른 방식으로 구현한 동료들의 코드를 볼수 있어 **동료학습**을 하게 된것이 좋은 선택 되었다.

# 프로젝트 진행 단계

### 1. 바닐라 자바스크립트로 유튜브 페이지 만들기
웹 개발에 중요한 역할을 담당하고 있는 **HTML/CSS/JS**를 공부해 볼 겸 바닐라 자바스크립트로 페이지를 만들기로 했다.

자바스크립트에 대해 조금 더 자세히 알고 싶어져서 **모던 자바스크립트 Deep Dive** 1회독을 하는 스터디도 시작했다. (8월 말쯤 스터디 종료)

- 고정 단위인 px 대신 유동 단위인 % 사용을 하고, media 쿼리를 사용 해서 **반응형으로 웹 페이지**를 만들었다.

https://user-images.githubusercontent.com/107471786/173803353-45ac07b7-22b1-4eec-b869-61b6f147e0e0.mov

- **레이어 팝업** 형태로 공지사항을 구현했다. Json으로 저장된 데이터를 **ajax fetch API**를 이용하여 불러왔고, **쿠키**를 이용하여 오늘하루 보지 않기 기능도 구현했다.

https://user-images.githubusercontent.com/107471786/173803372-55f24d65-fba5-44a1-ae81-c39d6112a72f.mov

- 플레이 리스트 랜덤재생/추가/제거 기능을 만들었다. **팝업** 형태로 플레이리스트 추가 폼을 만들었고, 필요한 데이터는 **localStorage**에 저장했다. (영상은 추가 기능만)

https://user-images.githubusercontent.com/107471786/173803477-3b4367f4-5908-4493-a19b-f941133a8d08.mov

### 2. 리액트로 유튜브 페이지 만들기
바닐라 자바스크립트로 웹 페이지를 만들고, 각자의 방식으로 만든 동료들의 코드를 보고 느낀점은 뭔가 정해진 규격이 없다보니 협업과 유지보수를 하기 어려워 보였다.

이런 단점들을 보완할 수 있는 프론트엔드 프레임워크를 공부 하기로 했다.

어떤걸 공부해야 할지 고민하다가 뷰와 다르게 리액트(리액트는 사실 라이브러리)는 모든것이 자바스크립트라고 하길래, 모던 자바스크립트 Deep Dive 책을 읽으며 자바스크립트에 흥미를 느꼇던 터라 리액트로 정했다.

리액트를 공부해 볼 겸 바닐라 자바스크립트 코드를 리액트 코드로 변환해 보기로 했다.

- 그냥 CSS 대신 **styled-components**를 사용했다.
- 플레이리스트 추가폼을 팝업 형태로 직접 만들었는데, react-modal 라이브러리를 이용하여 **모달**로 구현했다.
- json 파일에서 데이터를 읽고 보여주는것이 아니라, **유튜브 API**를 호출하여 실시간으로 데이터를 가져왔다.

### 3. 리액트와 스프링부트로 유튜브 페이지 만들기
모든 데이터를 localStorage에 저장하다보니, 브라우저를 끄면 추가적으로 저장된 데이터가 날라갔다.

**데이터베이스**의 필요성을 느꼈고, 기존 프로젝트에 서버와 데이터베이스를 추가하기로 했다.

백엔드 언어는 범용성이 가장 뛰어난 Java로 정했고, 프레임워크는 Spring 대신 실행환경을 따로 신경 쓸 필요 없는 **Spring-boot**를 선택했다.

데이터베이스는 스키마가 유동적인 경우가 거의 없을 것으로 판단하여 **관계형 데이터베이스** 중 인기 있는 MySQL을 선택했다. (Oracle은 맥북 M1 호환성 이슈 때문에 선택하지 않았다.)

쿼리문을 쉽게 작성하기 위해 Java에서 ORM을 사용하기 위한 인터페이스의 모임인 **JPA**를 사용했다.

- 유튜브 API를 호출해서 얻은 데이터를 다듬었다.
  ![](https://velog.velcdn.com/images/kjb95/post/859a63b6-339d-4107-86c8-1cd4a8cd8a77/image.png)
  ![](https://velog.velcdn.com/images/kjb95/post/4197b031-d9cd-4945-9dd1-e2b3058e2d02/image.png)

### 4. 유튜브 페이지 프로젝트 배포환경 구축
이전단계(3. 리액트와 스프링부트로 유튜브 페이지 만들기) 에서 사실 부끄럽게도 데이터베이스를 설치하고 환경설정하는 과정부터 어려움을 느꼈다.

동료 개발자에게 이런 어려움을 하소연을 하다가, **Docker**라는 것을 사용하면 그 귀찮은 작업을 하지 않아도 된다는것을 알게 되었고, 데이터베이스만 도커 컨테이너를 통해 운영했다.

나중에 **배포**를 시도하던 중, 명령어 하나로 배포를 쉽게 할 수 없을까 알아보다가 **Docker Compose**에 대해 알게 되었다.

**Dockerfile**로 데이터베이스, 스프링부트, 리액트 환경을 각각의 이미지로 만들고, 이미지들을 빌드해서 생긴 3개의 컨테이너를 도커 컴포즈로 관리했다.

해당 프로젝트를 **AWS EC2**에 배포했다가 과금(Elastic IP 과다 사용) 으로 인해 현재는 IP 주소를 해제 했다.

### 5. 프로젝트 개선 (현재 진행형)
이 프로젝트를 통해 **전반적인 웹 개발 과정**을 경험해 보았다.

프론트엔드와 백엔드 둘 다 찍먹해본 결과, 각각의 다른 매력을 느껴서 **프론트를 잘 아는 백엔드 개발자**가 되고 싶어졌다.

그리고 앞으로 틈틈히 프로젝트를 발전시킬 계획이다.

- JUnit5, AssertJ 를 이용하여 간단한 테스트 코드 작성
- @slf4j를 이용하여 로그 전략에 따른 로그 남기기
- 네비게이션바 생성(홈 화면 이동, react-i18next 라이브러리를 이용하여 다국어 처리)

https://user-images.githubusercontent.com/107471786/182569742-fa301ae5-57c7-4edf-9e31-e51a3ee57649.mov

- Oauth 이용한 로그인 기능 구현 (진행중)

# 깃허브
https://github.com/kjb95/youtube